# Chapter 01 컴퓨터 네트워크와 인터넷

### 1.1 인터넷이란 무엇인가?

- 인터넷의 구성요소 관점
- 네트워킹 인프라 구조 관점

**1.1.1 구성요소로 본 인터넷**

인터넷 : 전 세계적으로 수십억 개의 컴퓨팅 장치를 연결하는 컴퓨터 네트워크

컴퓨팅 장치 : 호스트 or 종단 시스템

▶ 종단 시스템은 **통신 링크**와 **패킷 스위치**의 네트워크(**ISP**)로 연결되어 인터넷에 접속

- 통신 링크 : 동축 케이블, 구리선, 광케이블, 라디오 스펙트럼 등 다양한 물리매체로 구성되며, 다양한 전송률을 이용하여 데이터를 전송한다.
- 패킷 : 종단 시스템이 다른 종단 시스템으로 데이터를 보낼 때, 송신 측은 그 데이터를 세그먼트로 나누고 각 세그먼트에 헤더를 붙임 → 이러한 정보 패키지가 패킷!
- 패킷 스위치 : 입력 통신 링크로 도착하는 패킷을 받아서 출력 통신 링크로 전달.  라우터는 네트워크 코어에서 사용되며, 링크 계층 스위치는 엑세스 네트워크에서 사용된다. → 둘다 최종 목적지 방향으로 패킷을 전달
- ISP(Internet Service Provider) : 패킷 스위치와 통신 링크로 이루어진 네트워크

    종단 시스템에게 케이블 모뎀이나 DSL같은 다양한 네트워크 접속을 제공

    CP(content provider)에게 인터넷 접속을 제공

    ( ⇒ 웹 사이트와 비디오 서버를 인터넷에 직접 연결하도록)

**1.1.2 서비스 측면에서 본 인터넷**

인터넷 : 애플리케이션에 서비스를 제공하는 인프라 구조.

- 애플리케이션은 서로 데이터를 교환하는 많은 종단 시스템을 포함하고 있기에, **분산 애플리케이션이**라고도 불림
- 인터넷 애플리케이션은 종단 시스템에서 수행됨
- 한 종단 시스템에서 수행되는 애플리케이션은 다른 종단 시스템의 프로그램과 데이터를 주고 받아야 함

    ⇒ 이를 위해 인터넷에 접속된 종단 시스템은 데이터 전달 요구를 명시하는 **소켓 인터페이스**를 제공

- 소켓 인터페이스 : 송신 프로그램이 따라야 하는 규칙집합으로, 인터넷은 이 규칙에 따라 데이터를 목적지 프로그램에 전달한다.

**1.1.3 프로토콜은 무엇인가**

**프로토콜** : 둘 이상의 통신 개체 간에 교환되는 메시지 포맷과 순서뿐 아니라, 메시지의 송수신과 다른 이벤트에 따른 행동들을 정의 

→ 통신하는 둘 이상의 객체가 포함된 모든 인터넷 활동을 프로토콜이 제어

### 1.2 네트워크의 가장자리

- 종단 시스템 : 데스크톱 컴퓨터, 서버, 모바일 컴퓨터등을 포함하여 인터넷에 연결되는 다른 장치
- 종단 시스템은 애플리케이션을 수행하므로 **호스트**라고도 불리며, 때로는 **클라이언트**와 **서버**로 구분된다.

    대부분의 서버는 커다란 데이터 센터 내에 있다.

    **1.2.1 접속 네트워크**

    ▶ **가정 접속**

    - DSL (digital subscriber line) : 일반적으로 가정은 유선 로컬 전화 서비스를 제공하는 같은 지역 전화 회사(telco)로부터 DSL 인터넷 접속 서비스를 받는다.
    - 케이블 인터넷 접속 : 케이블 TV 회사의 기존 케이블 TV 기반 구조를 이용한다.

        광케이블과 동축 케이블 모두를 사용하는 HFC 접속 네트워크를 구성하고, 케이블 모뎀을 이용한다.

        공유 방송 매체.

    - FTTH(fiber to the home) : 보다 빠른 속도를 제공하는 미래기술로 CO(telco의 contral office)에서 가정까지 직접 광섬유 경로를 제공한다.

    ▶ **기업 접속**

    - LAN : 일반적으로 종단 시스템을 가장자리 라우터에 연결하기 위해 사용

        **이더넷** 기술이 가장 널리 사용되는 접속 기술이다.

        이더넷 스위치 or 상호 연결된 스위치들의 네트워크는 더 큰 인터넷으로 연결된다.

        **Wifi**라고 불리는 무선 LAN은 연결된 AP로 패킷을 송/수신하고 다시 유선 네트워크에 연결된다.

    ▶ **광역 무선 접속**

    - 3G : 1 Mbps 이상의 속도로 패킷 교환 광역 무선 인터넷 접속
    - LTE : 3G 기술을 기반으로, 10Mbps 이상의 전송속도를 지원

    **1.2.2 물리 매체**

    물리 매체상에 전자파나 광 펄스를 전파하여 비트를 전송

    ▶ **유도 매체** : 견고한 매체를 따라 파형을 전파

    - 꼬임쌍선 : 가장 싸고 많이 이용됨 / 수백 m까지의 거리에서 10Gbps 속도 / 고속 LAN
    - 동축케이블 : 꼬임쌍선보다 더 높은 데이터 전송률 / 케이블 TV
    - 광섬유 : 초당 10~100기가비트의 비트율 / 고가 / 인터넷의 백본

    ▶ **비유도 매체** : 대기와 야외 공간으로 파형을 전파

    - 지상 라디오 채널 : 전자기 스펙트럼 / 벽 관통 / 먼 거리 가능
    - 위성 라디오 채널 :  정지 위성과 저궤도 위성 사용

### 1.3 네트워크 코어

인터넷의 종단 시스템을 연결하는 패킷 스위치들과 링크들의 연결망

**1.3.1 패킷 교환**

패킷 : 송신 종단 시스템에서 목적 종단 시스템으로 메세지를 보내기 위해 분할된 작은 데이터

송신측과 수신측 사이에서 각 패킷은 통신 링크와 패킷 스위치를 거침

**저장-후-전달(store-and-forward)**

스위치가 출력 링크로 패킷의 첫 비트를 전송하기 전에 전체 패킷을 받아야 함

대부분의 패킷 스위치가 저장-후-전달 방식 이용

**큐잉 지연과 패킷 손실**

패킷 스위치는 접속된 여러 개의 링크를 갖고 있고, 각 링크에 대해 출력 버퍼(출력 큐)가 있음.

큐잉 지연 : 패킷이 출력 버퍼에서 대기해야 하는 경우

패킷 손실 : 출력 버퍼가 꽉 차있어, 도착하는 패킷 혹은 대기 중인 패킷이 폐기되는 경우

**전달 테이블과 라우팅 프로토콜**

전달 테이블 : 각 라우터가 갖고 있으며, (패킷 헤더의)목적지 주소를 라우터의 출력 링크로 맵핑

패킷이 라우터에 도착 → 라우터가 패킷의 주소 조사 → 목적지 주소를 이용하여 전달테이블 검색 → 라우터가 패킷을 출력링크로 보냄

라우팅 프로토콜 : 각 라우터로부터 각 목적지까지의 최단 경로를 결정하고, 최단 경로를 이용하여 전달 테이블 설정

**1.3.2 회선 교환**

종단 시스템 간의 통신을 위해 경로상에 필요한 자원(버퍼, 링크 전송률)을 통신 세션 동안 확보하거나 예약

**회선 교환 네트워크에서의 다중화**

FDM (주파수-분할 다중화) : 주파수 스펙트럼을 공유하며, 연결되는 동안 연결에 대한 주파수 대역을 고정 제공

TDM (시-분할 다중화) : 시간을 일정 주기의 프레임으로 나누고, 각 프레임은 고정된 수의 시간 슬롯으로 나눔

[패킷 교환 vs 회선 교환](https://www.notion.so/f21da435e6b14dbdba22ea3d067bd3de)

⇒ 패킷 교환이 더 간단하고 효율적이며, 회선 교환보다 구현 비용이 적음

**1.3.3 네트워크의 네트워크**

ISP들이 서로 

네트워크 구조 1 : 모든 접속 ISP들을 하나의 글로벌 통과 ISP와 연결

네트워크 구조 2 : 수십만개의 접속 ISP와 다중의 글로벌 ISP로 구성/ 글로벌 ISP들이 서로 연결

네트워크 구조 3 : 각 도시에 접속 ISP가 있고 이들이 지방 ISP들과 연결되며, 국가 ISP에 연결되어 최종적으로 1 계층 ISP에 연결

네트워크 구조 4 : 접속 ISP/지역 ISP/1-계층  ISP/PoP/멀티-홈/피어링/IXP로 구성

네트워크 구조 5 : 네트워크 구조 4 위에 content-provider network 추가(ex 구글)

### 1.4 패킷 교환 네트워크에서의 지연, 손실과 처리율

**1.4.1 패킷 교환에서의 지연**

**지연 유형**

처리 지연 : 패킷 헤더를 조사하고 그 패킷을 어디로 보낼지 결정하는 시간

큐잉 지연 : 패킷이 큐에서 링크로 전송되기를 기다리는 시간

전송 지연 : 패킷의 모든 비트를 전송하는 데 필요한 시간

전파 지연 : 링크의 처음부터 목적 라우터까지의 전파에 필요한 시간

**1.4.2 큐잉 지연과 패킷 손실**

큐잉 지연 : 패킷이 출력 버퍼에서 대기해야 하는 경우

패킷 손실 : 출력 버퍼가 꽉 차있어, 도착하는 패킷 혹은 대기 중인 패킷이 폐기되는 경우

**1.4.3 종단간 지연**

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/53a34ab4-ee30-40b7-9cea-24981f906f11/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/53a34ab4-ee30-40b7-9cea-24981f906f11/Untitled.png)

**1.4.4 컴퓨터 네트워크에서의 처리율**

호스트 A → 호스트 B 전송

순간적인 처리율 : 호스트 B가 파일을 수신하는 비율(비트/초)

평균 처리율 : (**F** 비트) / (호스트 B가 모든 비트 F를 수신하는 데 걸린 시간 **T**)

### 1.5 프로토콜 계층과 서비스 모델

 

**인터넷 프로토콜 스텍**

- 애플리케이션 계층
- 트랜스포트 계층
- 네트워크 계층
- 링크 계층
- 물리 계층

**OSI 모델**

- 애플리케이션 계층
- 프레젠테이션 계층
- 세션 계층
- 트랜스포트 계층
- 네트워크 계층
- 링크 계층
- 물리 계층

### 1.6 네트워크 공격

**멜웨어(malware)** : 인터넷을 통해 호스트에 침투하는 악성코드, 많은 멜웨어가 자기복제를 함

봇넷(botnet) : 수천의 비슷한 면역되지 않은 장치들로 구성된 네트워크

바일러스(virus) : 영향을 주기위해 사용자와의 상호작용이 필요한 멜웨어

웜(worm) : 사용자의 직접적인 상호작용 없이 장치에 침투하는 멜웨어

**DoS 공격 (dinial-of-service)** : 네트워크, 호스트, 다른 기반구조의 요소들을 정상적인 사용자들이 사용할 수 없게 하는 것 → 컴퓨터의 자원을 고갈시키기 위한 공격

취약성 공격 : 네트워크 패킷의 처리 로직에 문제가 있는 경우, 그것을 이용하여 오작동 발생

대역폭 플러딩 : 목표 호스트로 수많은 패킷을 보내, 접속 링크가 동작하지 못하게 함

연결 플러딩 : 목표 호스트에 TCP연결을 설정하여, 호스트가 가짜 연결을 처리하느라 정상 연결을 처리하지 못함

**DDoS 공격 (Distributed ~)  :** 광범위한 네트워크를 이용하여 다수의 공격지점에서 동시에 한곳을 공격

패킷 탐지

패킷 스니퍼 : 지나가는 모든 패킷의 사본을 기록하는 수동적인 수신자

위장

IP 스푸핑 (spoofing) : 거짓의 출발지 주소를 가진 패킷을 인터넷으로 보냄
